var app={isLoading:!0,visibleCards:{},games:[],gameDetails:[],spinner:document.querySelector(".loader"),getGames:function(e){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&200===a.status&&(app.games=a.response)},a.open("GET","http://mycollectionsapi.paulorobertoelias.com.br/api/Games",!1),a.send(),app.renderizeGames(),app.spinner.setAttribute("hidden",!0)},getGameDetails:function(e){var a="http://mycollectionsapi.paulorobertoelias.com.br/api/Games/"+e,t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&200===t.status&&(app.gameDetails=t.response)},t.open("GET",a,!1),t.send(),app.renderizeDetails()},renderizeGames:function(){var e=[],a=JSON.parse(app.games);for(var t in a){var n=a[t];e.push("<span id='"+t+"' class='game'><img class='cover' src='"+n.cover+"' alt='logo' data-game='"+n.name+"' data-toggle='modal' data-target='#myModal' /img></span>")}var o=document.createElement("div");o.setAttribute("class","container-fluid"),o.innerHTML=e.join(""),document.querySelector("div.main_div").appendChild(o)},renderizeDetails:function(){var e=[],a=JSON.parse(app.gameDetails);for(var t in a){var n=a[t];e.push("<img src='"+n.storeLogo+"' class='storeLogo' /img>")}var o=document.createElement("div");o.innerHTML=e.join("");var r=document.querySelector("div#myModalBody");r.innerHTML="",r.appendChild(o)}};window.onload=function(){app.getGames(!1),$("#myModal").on("show.bs.modal",function(e){var a=$(this),t=$(e.relatedTarget).data("game");a.find(".modal-title").text(t),app.getGameDetails(t)})};